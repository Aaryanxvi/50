# Supabase Setup for RSVP

To make the RSVP form and Admin Dashboard work, you need to connect your application to a Supabase database.

## 1. Create a Supabase Project
1.  Go to [supabase.com](https://supabase.com) and create a new project.
2.  Once created, go to **Project Settings** > **API**.
3.  Copy the **Project URL** and **anon public key**.

## 2. Configure Environment Variables
Create a file named `.env` in the root of your project (same folder as `package.json`) and add the following keys:

```env
VITE_SUPABASE_URL=your_project_url_here
VITE_SUPABASE_ANON_KEY=your_anon_key_here
```

## 3. Create the Database Table
Go to the **SQL Editor** in your Supabase dashboard and run the following script to create the table and set up permissions:

```sql
-- Create the RSVP table
create table public.rsvp (
  id bigint generated by default as identity primary key,
  created_at timestamp with time zone default timezone('utc'::text, now()) not null,
  full_name text not null,
  email text not null,
  attending text not null,
  guests_count integer default 1,
  dietary_requirements text,
  note text
);

-- Enable Row Level Security (RLS)
alter table public.rsvp enable row level security;

-- Policy: Allow anyone to submit an RSVP (Insert)
create policy "Anyone can insert RSVP"
on public.rsvp for insert
with check (true);

-- Policy: Allow application to read RSVPs (Select)
-- Note: In a production app with real authentication, restrict this to Admin users only.
-- For this demo, we allow public read access so the dashboard works without a backend server.
create policy "Enable read access for all users"
on public.rsvp for select
using (true);
```

## 4. Usage
- **RSVP Form**: Guests can now submit the form, and data will appear in your Supabase table.
- **Admin Dashboard**:
    - Click the **"ADMIN"** link in the footer (bottom of the page).
    - Enter one of the authorized emails:
      - `yemee.fernandes@fourpillarstrading.com`
      - `aaryanbaadkar71@gmail.com`
    - Click Login to view the "Honoured to attend" guest list.
